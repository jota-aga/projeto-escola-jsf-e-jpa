<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
 	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	
	<p:dialog id="dialog-form-nota" widgetVar="dialog-form-nota-widgetvar"  closeOnEscape="true" header="Adicionar Nota" modal="true" resizable="false">
		<p:message id="nota-message" showDetail="true" for="nota"/>
		<p:panelGrid columns="2" >
			<p:outputLabel for="data" value="Data: "/>
			<p:calendar id="data" pattern="dd/MM/yyyy" mask="99/99/9999" value="#{bean.nota.data}"/>
			
			<p:outputLabel for="nota" value="Nota: "/>
			<p:inputNumber id="nota" decimalPlaces="2" value="#{bean.nota.nota}" />
			
			<p:outputLabel for="descricao" value="Descrição: "/>
			<p:inputTextarea id="descricao" value="#{bean.nota.descricao}" style="width: 300px"/>
			
			<p:outputLabel value="Aluno: "/>
			<h:outputText value="#{bean.nota.aluno.usuario.nome}"/>
			
			<p:outputLabel value="Curso: "/>
			<h:outputText value="#{bean.nota.curso.nome}"/>
		</p:panelGrid>
		<p:commandButton value="Salvar" actionListener="#{bean.salvarNota()}" oncomplete="if (!args.validationFailed) PF('dialog-form-nota-widgetvar').hide()"
				update="nota-message mainForm:data-table-notas" process="@this mainForm:dialog-form-nota" styleClass="button-salvar"/>
	</p:dialog>	
</ui:fragment>